@page "/ch06r03"

<EditForm FormName="event-form" Model="@Model"
          OnSubmit="@Save" Enhance>

    <label>
        Name: <InputText @bind-Value="@Model.Name" />
    </label>
    <EventDurationForm @bind-Value="@Model.Period" />
    <button type="submit">Save</button>

</EditForm>

@code {
    [SupplyParameterFromForm]
    protected Event Model { get; set; }

    protected override void OnInitialized()
        => Model ??= new(); 

    private void Save()
    {
        Console.WriteLine($"Saved {Model.Name}.");
        Console.WriteLine($"{Model.Period.Start} - {Model.Period.End}");
    }
}